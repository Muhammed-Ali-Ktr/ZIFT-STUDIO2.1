<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haftalƒ±k √áalƒ±≈üma Programƒ± | ZiftStudio.digital</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3840256145402837" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f7;
            --bg-tertiary: #e8e8ed;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --accent: #0071e3;
            --accent-hover: #0077ed;
            --success: #30d158;
            --danger: #ff3b30;
            --border: #d2d2d7;
            --shadow: rgba(0, 0, 0, 0.1);
        }

        [data-theme="dark"] {
            --bg-primary: #000000;
            --bg-secondary: #1c1c1e;
            --bg-tertiary: #2c2c2e;
            --text-primary: #f5f5f7;
            --text-secondary: #98989d;
            --accent: #0a84ff;
            --accent-hover: #409cff;
            --border: #38383a;
            --shadow: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background 0.3s ease, color 0.3s ease;
            padding-bottom: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* Header */
        header {
            background: var(--bg-primary);
            padding: 1.5rem;
            border-radius: 20px;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--accent), #5e5ce6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .theme-toggle {
            background: var(--bg-tertiary);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* Motivasyon */
        .motivation {
            background: linear-gradient(135deg, var(--accent), #5e5ce6);
            color: white;
            padding: 1.5rem;
            border-radius: 20px;
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 1.1rem;
            font-weight: 500;
            box-shadow: 0 4px 15px var(--shadow);
            animation: fadeIn 0.5s ease;
        }

        /* Kart */
        .card {
            background: var(--bg-primary);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow);
            animation: slideUp 0.4s ease;
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        /* Form */
        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1.5px solid var(--border);
            border-radius: 12px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
            outline: none;
        }

        input:focus {
            border-color: var(--accent);
            background: var(--bg-primary);
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }

        /* Butonlar */
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #ff453a;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #32d760;
            transform: translateY(-2px);
        }

        /* Ders Listesi */
        .course-list {
            display: grid;
            gap: 1rem;
        }

        .course-item {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .course-item:hover {
            background: var(--bg-tertiary);
            transform: translateX(5px);
        }

        .course-info {
            flex: 1;
        }

        .course-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .course-details {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Tablo */
        .table-container {
            overflow-x: auto;
            margin-top: 1rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        th, td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--text-primary);
            position: sticky;
            top: 0;
        }

        td {
            background: var(--bg-secondary);
        }

        .day-cell {
            min-width: 100px;
        }

        .today {
            background: rgba(0, 113, 227, 0.1) !important;
            font-weight: 600;
        }

        /* Checkbox */
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            align-items: center;
        }

        input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
            accent-color: var(--success);
        }

        .input-small {
            width: 60px;
            padding: 0.4rem;
            font-size: 0.9rem;
            text-align: center;
        }

        /* ƒ∞lerleme Barƒ± */
        .progress-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .progress-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .progress-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .progress-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
        }

        .progress-bar-container {
            background: var(--bg-tertiary);
            height: 10px;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent), var(--success));
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        /* Grafik */
        .chart-container {
            position: relative;
            height: 300px;
            margin-top: 1rem;
        }

        /* Animasyonlar */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.4rem;
            }

            .card {
                padding: 1rem;
            }

            .btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }

            .progress-value {
                font-size: 1.5rem;
            }

            .chart-container {
                height: 250px;
            }

            table {
                font-size: 0.85rem;
            }

            th, td {
                padding: 0.6rem;
            }
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .button-group {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>üìö Haftalƒ±k √áalƒ±≈üma Programƒ±</h1>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Tema Deƒüi≈ütir">
                <span id="themeIcon">üåô</span>
            </button>
        </header>

        <!-- Motivasyon -->
        <div class="motivation" id="motivationText">
            Ba≈üarƒ±, k√º√ß√ºk √ßabalarƒ±n her g√ºn tekrarlanmasƒ±dƒ±r! üí™
        </div>

        <!-- Ders Ekleme Formu -->
        <div class="card">
            <h2 class="card-title">‚ûï Yeni Ders Ekle</h2>
            <form id="courseForm">
                <div class="form-group">
                    <label for="courseName">Ders Adƒ±</label>
                    <input type="text" id="courseName" placeholder="√ñrn: Matematik" required>
                </div>
                <div class="form-group">
                    <label for="dailyTime">G√ºnl√ºk S√ºre Hedefi (dakika)</label>
                    <input type="number" id="dailyTime" placeholder="√ñrn: 120" min="1" required>
                </div>
                <div class="form-group">
                    <label for="dailyQuestions">G√ºnl√ºk Soru/Test Hedefi</label>
                    <input type="number" id="dailyQuestions" placeholder="√ñrn: 50" min="1" required>
                </div>
                <button type="submit" class="btn btn-primary">Ders Ekle</button>
            </form>
        </div>

        <!-- Ders Listesi -->
        <div class="card">
            <h2 class="card-title">üìã Derslerim</h2>
            <div id="courseList" class="course-list"></div>
        </div>

        <!-- Haftalƒ±k Program Tablosu -->
        <div class="card">
            <h2 class="card-title">üìÖ Haftalƒ±k Program</h2>
            <div class="button-group">
                <button class="btn btn-danger" onclick="resetWeek()">üîÑ Haftalƒ±k Sƒ±fƒ±rla</button>
            </div>
            <div class="table-container">
                <table id="weeklyTable"></table>
            </div>
        </div>

        <!-- ƒ∞lerleme Paneli -->
        <div class="card">
            <h2 class="card-title">üìä ƒ∞lerleme Takibi</h2>
            <div class="progress-section">
                <div class="progress-card">
                    <div class="progress-label">Bug√ºnk√º ƒ∞lerleme</div>
                    <div class="progress-value" id="dailyProgress">0%</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="dailyProgressBar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="progress-card">
                    <div class="progress-label">Haftalƒ±k ƒ∞lerleme</div>
                    <div class="progress-value" id="weeklyProgress">0%</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar" id="weeklyProgressBar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="progress-card">
                    <div class="progress-label">Tamamlanan G√∂revler</div>
                    <div class="progress-value" id="completedTasks">0/0</div>
                </div>
            </div>
        </div>

        <!-- Grafik -->
        <div class="card">
            <h2 class="card-title">üìà Haftalƒ±k ƒ∞lerleme Grafiƒüi</h2>
            <div class="chart-container">
                <canvas id="progressChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Veri yapƒ±sƒ± ve sabitler
        const DAYS = ['Pazartesi', 'Salƒ±', '√áar≈üamba', 'Per≈üembe', 'Cuma', 'Cumartesi', 'Pazar'];
        const MOTIVATIONS = [
            'Ba≈üarƒ±, k√º√ß√ºk √ßabalarƒ±n her g√ºn tekrarlanmasƒ±dƒ±r! üí™',
            'Her g√ºn biraz daha ileri! üöÄ',
            'Hayallerinize bir adƒ±m daha yakƒ±nsƒ±nƒ±z! ‚≠ê',
            'Bug√ºn d√ºnden daha iyisiniz! üåü',
            'Azim ve kararlƒ±lƒ±k her ≈üeyin √ºstesinden gelir! üî•',
            'K√º√ß√ºk adƒ±mlar b√ºy√ºk ba≈üarƒ±lar yaratƒ±r! üéØ'
        ];

        let courses = [];
        let weeklyData = {};
        let progressChart = null;

        // LocalStorage y√∂netimi
        function saveData() {
            const data = {courses, weeklyData};
            localStorage.setItem('studyProgram', JSON.stringify(data));
        }

        function loadData() {
            const stored = localStorage.getItem('studyProgram');
            if (stored) {
                const data = JSON.parse(stored);
                courses = data.courses || [];
                weeklyData = data.weeklyData || {};
            }
        }

        // Tema y√∂netimi
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            document.getElementById('themeIcon').textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('theme', newTheme);
            
            // Grafiƒüi yeniden olu≈ütur (tema renkleri i√ßin)
            if (progressChart) {
                updateChart();
            }
        }

        // Sayfa y√ºklendiƒüinde tema ayarla
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            document.getElementById('themeIcon').textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }

        // Motivasyon mesajƒ± deƒüi≈ütir
        function updateMotivation() {
            const random = Math.floor(Math.random() * MOTIVATIONS.length);
            document.getElementById('motivationText').textContent = MOTIVATIONS[random];
        }

        // Ders ekleme
        document.getElementById('courseForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('courseName').value.trim();
            const time = parseInt(document.getElementById('dailyTime').value);
            const questions = parseInt(document.getElementById('dailyQuestions').value);

            if (name && time > 0 && questions > 0) {
                const course = {
                    id: Date.now(),
                    name,
                    dailyTime: time,
                    dailyQuestions: questions
                };
                courses.push(course);
                
                // Haftalƒ±k veri yapƒ±sƒ±nƒ± ba≈ülat
                weeklyData[course.id] = {};
                DAYS.forEach(day => {
                    weeklyData[course.id][day] = {
                        completed: false,
                        time: 0,
                        questions: 0
                    };
                });

                saveData();
                renderCourses();
                renderTable();
                updateProgress();
                updateChart();
                
                document.getElementById('courseForm').reset();
            }
        });

        // Ders silme
        function deleteCourse(id) {
            if (confirm('Bu dersi silmek istediƒüinizden emin misiniz?')) {
                courses = courses.filter(c => c.id !== id);
                delete weeklyData[id];
                saveData();
                renderCourses();
                renderTable();
                updateProgress();
                updateChart();
            }
        }

        // Ders listesini render et
        function renderCourses() {
            const container = document.getElementById('courseList');
            
            if (courses.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üìö</div>
                        <p>Hen√ºz ders eklemediniz. Yukarƒ±daki formdan ders ekleyerek ba≈ülayƒ±n!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = courses.map(course => `
                <div class="course-item">
                    <div class="course-info">
                        <div class="course-name">${course.name}</div>
                        <div class="course-details">
                            ‚è±Ô∏è ${course.dailyTime} dk/g√ºn | üìù ${course.dailyQuestions} soru/g√ºn
                        </div>
                    </div>
                    <button class="btn btn-danger" onclick="deleteCourse(${course.id})" style="padding: 0.5rem 1rem;">
                        üóëÔ∏è
                    </button>
                </div>
            `).join('');
        }

        // Bug√ºn√ºn g√ºn√ºn√º bul
        function getTodayIndex() {
            const day = new Date().getDay();
            return day === 0 ? 6 : day - 1; // Pazar=6, Pazartesi=0
        }

        // Tabloyu render et
        function renderTable() {
            const table = document.getElementById('weeklyTable');
            
            if (courses.length === 0) {
                table.innerHTML = '<tr><td colspan="8" style="text-align: center; padding: 2rem;">Ders ekleyerek ba≈ülayƒ±n</td></tr>';
                return;
            }

            const todayIndex = getTodayIndex();
            
            let html = '<thead><tr><th>Ders</th>';
            DAYS.forEach((day, index) => {
                const isToday = index === todayIndex ? ' today' : '';
                html += `<th class="day-cell${isToday}">${day}${isToday ? ' üìå' : ''}</th>`;
            });
            html += '</tr></thead><tbody>';

            courses.forEach(course => {
                html += `<tr><td><strong>${course.name}</strong><br><small>${course.dailyTime}dk / ${course.dailyQuestions}soru</small></td>`;
                
                DAYS.forEach((day, index) => {
                    const data = weeklyData[course.id][day];
                    const isToday = index === todayIndex ? ' today' : '';
                    
                    html += `<td class="${isToday}">
                        <div class="checkbox-group">
                            <input type="checkbox" 
                                   ${data.completed ? 'checked' : ''} 
                                   onchange="toggleComplete(${course.id}, '${day}')"
                                   title="Tamamlandƒ±">
                            <input type="number" 
                                   class="input-small" 
                                   placeholder="dk"
                                   value="${data.time || ''}"
                                   onchange="updateTime(${course.id}, '${day}', this.value)"
                                   title="√áalƒ±≈üma s√ºresi">
                            <input type="number" 
                                   class="input-small" 
                                   placeholder="soru"
                                   value="${data.questions || ''}"
                                   onchange="updateQuestions(${course.id}, '${day}', this.value)"
                                   title="Soru sayƒ±sƒ±">
                        </div>
                    </td>`;
                });
                
                html += '</tr>';
            });

            html += '</tbody>';
            table.innerHTML = html;
        }

        // Veri g√ºncelleme fonksiyonlarƒ±
        function toggleComplete(courseId, day) {
            weeklyData[courseId][day].completed = !weeklyData[courseId][day].completed;
            saveData();
            updateProgress();
            updateChart();
        }

        function updateTime(courseId, day, value) {
            weeklyData[courseId][day].time = parseInt(value) || 0;
            saveData();
            updateProgress();
            updateChart();
        }

        function updateQuestions(courseId, day, value) {
            weeklyData[courseId][day].questions = parseInt(value) || 0;
            saveData();
            updateProgress();
            updateChart();
        }

        // ƒ∞lerleme hesaplama
        function updateProgress() {
            const todayIndex = getTodayIndex();
            const today = DAYS[todayIndex];
            
            let dailyTotal = 0;
            let dailyCompleted = 0;
            let weeklyTotal = 0;
            let weeklyCompleted = 0;

            courses.forEach(course => {
                // G√ºnl√ºk
                dailyTotal++;
                if (weeklyData[course.id][today].completed) {
                    dailyCompleted++;
                }

                // Haftalƒ±k
                DAYS.forEach(day => {
                    weeklyTotal++;
                    if (weeklyData[course.id][day].completed) {
                        weeklyCompleted++;
                    }
                });
            });

            const dailyPercent = dailyTotal > 0 ? Math.round((dailyCompleted / dailyTotal) * 100) : 0;
            const weeklyPercent = weeklyTotal > 0 ? Math.round((weeklyCompleted / weeklyTotal) * 100) : 0;

            document.getElementById('dailyProgress').textContent = dailyPercent + '%';
            document.getElementById('dailyProgressBar').style.width = dailyPercent + '%';
            
            document.getElementById('weeklyProgress').textContent = weeklyPercent + '%';
            document.getElementById('weeklyProgressBar').style.width = weeklyPercent + '%';
            
            document.getElementById('completedTasks').textContent = `${weeklyCompleted}/${weeklyTotal}`;
        }

        // Grafik g√ºncelleme
        function updateChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            
            const dailyProgress = DAYS.map(day => {
                let completed = 0;
                let total = 0;
                courses.forEach(course => {
                    total++;
                    if (weeklyData[course.id][day].completed) {
                        completed++;
                    }
                });
                return total > 0 ? Math.round((completed / total) * 100) : 0;
            });

            if (progressChart) {
                progressChart.destroy();
            }

            progressChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: DAYS,
                    datasets: [{
                        label: 'G√ºnl√ºk Tamamlanma (%)',
                        data: dailyProgress,
                        backgroundColor: isDark ? 'rgba(10, 132, 255, 0.8)' : 'rgba(0, 113, 227, 0.8)',
                        borderColor: isDark ? 'rgba(10, 132, 255, 1)' : 'rgba(0, 113, 227, 1)',
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                color: isDark ? '#98989d' : '#86868b',
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            grid: {
                                color: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: isDark ? '#98989d' : '#86868b'
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Haftalƒ±k sƒ±fƒ±rlama
        function resetWeek() {
            if (confirm('T√ºm haftalƒ±k verileri silmek istediƒüinizden emin misiniz? Bu i≈ülem geri alƒ±namaz!')) {
                courses.forEach(course => {
                    DAYS.forEach(day => {
                        weeklyData[course.id][day] = {
                            completed: false,
                            time: 0,
                            questions: 0
                        };
                    });
                });
                saveData();
                renderTable();
                updateProgress();
                updateChart();
                alert('Haftalƒ±k veriler sƒ±fƒ±rlandƒ±! ‚úÖ');
            }
        }

        // Sayfa ba≈ülatma
        function init() {
            initTheme();
            loadData();
            renderCourses();
            renderTable();
            updateProgress();
            updateChart();
            updateMotivation();
            
            // Her 30 saniyede bir motivasyon mesajƒ±nƒ± deƒüi≈ütir
            setInterval(updateMotivation, 30000);
        }

        // Sayfa y√ºklendiƒüinde ba≈ülat
        window.addEventListener('load', init);
    </script>
</body>
</html>